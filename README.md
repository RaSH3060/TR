# MKXL Trainer - DirectInput Wrapper DLL

## Описание

MKXL Trainer - это комплексное решение для управления вводом в игре Mortal Kombat XL, позволяющее выполнять сложные комбо и техники с помощью продвинутых возможностей перехвата и модификации ввода.

## Особенности

- **Перехват DirectInput**: DLL-обертка для dinput8.dll, которая перехватывает вызовы DirectInput
- **Блокировка клавиш**: Возможность блокировать определенные клавиши в зависимости от состояния игры
- **Макросы**: Автоматическое выполнение последовательностей нажатий
- **Чтение памяти**: Мониторинг состояния игры через чтение памяти по цепочке указателей
- **Высокая точность**: Работа с точностью до миллисекунды

## Архитектура

### Основные компоненты:

1. **DIDeviceWrapper** - Обертка для IDirectInputDevice8, перехватывающая ввод
2. **MemoryReader** - Компонент для чтения памяти игры по цепочке указателей
3. **InputManager** - Управление блокировкой клавиш и выполнением макросов
4. **Hook System** - Система перехвата функций Windows API

### Логика работы:

1. DLL загружается в процесс игры через внедрение
2. Система чтения памяти каждые 10 мс читает состояние игры по цепочке указателей
3. При достижении определенного порога (настраивается) включается блокировка клавиш
4. При достижении другого порога запускается выполнение макроса
5. Все операции происходят прозрачно для игры и системы

## Технические детали

### Цепочка указателей:
- Базовый адрес: `MK10.exe + 0x33C8A98`
- Оффсеты: `0x8, 0x130, 0x108, 0x78, 0x90, 0x120, 0xF20`

### Функции перехвата:
- `DirectInput8Create` - создание объектов DirectInput
- `GetDeviceState` - чтение состояния устройства
- `GetDeviceData` - получение данных о событиях ввода

## Сборка

Для сборки проекта требуется Visual Studio 2019 или новее:

```batch
build_dinput8_dll.bat
```

## Установка

1. Скопируйте `DINPUT8.dll` в директорию с `MK10.exe`
2. Запустите игру через MKXL Trainer
3. Настройте параметры в интерфейсе трейнера

## Безопасность

- DLL работает только внутри процесса игры
- Все изменения происходят в пользовательском режиме
- Нет обращений к драйверам или системным компонентам